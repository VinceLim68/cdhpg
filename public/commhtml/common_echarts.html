
<script src="__JS__/echarts.js"></script>

<!-- 为ECharts准备一个模态框 -->
<div class="modal fade" id="Echarts" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" ></h4>
	      	</div>
			<div class="modal-body" id="modal_echarts"
				style="width: 960px; height: 400px;"></div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('modal_echarts'));

    //使用函数配置Echarts
    function setEcharts(data){
    	// 把返回的data构造成Echarts的格式
	    var price = [];
	    for (var x in data.mean)
	    {
	    	var item ={};
	    	item.type = 'line';
	    	item.data = data.mean[x];
	    	item.name = '挂牌均价';
	    	price.push(item);
	    }
	    for (var x in data.price)
	    {
	    	var item ={};
	    	item.type = 'line';
	    	item.data = data.price[x];
	    	item.name = '抵押评估价';
	    	price.push(item);
	    }

	    //console.log(price);
	    //给Echarts使用刚构造的数据并指定配置项显示图表。
	    myChart.setOption({
    	    //title: {
		    //    text: '房价走势'
		    //},
		    tooltip: {
		        trigger: 'axis'
		    },
		    legend: {
		        data:['挂牌均价','抵押评估价']
		    },
		    xAxis: {
		        type: 'category',
		     	data: data.dtime
		    },
		    yAxis: {
		        type: 'value'
		    },
	        series: price,
	    });
    }
       
</script>

